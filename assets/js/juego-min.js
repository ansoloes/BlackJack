const moduloBlackJack=(()=>{"use strict";let e=[],a=["C","D","H","S"],r=["A","J","Q","K"],t=[],l=document.querySelector("#btn-reinicio"),s=document.querySelector("#btn-cartas"),n=document.querySelector("#btn-detener"),c=document.querySelectorAll("span"),d=document.querySelectorAll(".contenedor-cartas"),i=document.querySelector("#modal"),o=document.querySelector("#mensaje-modal"),u=document.querySelector("#btn-cerrar-modal"),L=(a=2)=>{e=m(),t=[];for(let r=0;r<a;r++)t.push(0);c.forEach(e=>e.innerHTML="0 pts."),d.forEach(e=>e.innerHTML=""),s.disabled=!1,n.disabled=!1,i.classList="cerrar-modal"},m=()=>{e=[];for(let t=2;t<=10;t++)for(let l of a)e.push(t+l);for(let s of a)for(let n of r)e.push(n+s);return _.shuffle(e)},$=()=>{if(0===e.length)throw"No hay cartas en la baraja";return e.pop()},b=e=>{let a=e.substring(0,e.length-1);return isNaN(a)?"A"===a?11:10:parseInt(a)},h=(e,a)=>(t[a]=t[a]+b(e),c[a].innerHTML=t[a]+" pts.",t[a]),p=(e,a)=>{let r=document.createElement("img");r.src=`assets/cartas/${e}.png`,r.classList="carta",d[a].appendChild(r)},f=()=>{let[e,a]=t;setTimeout(()=>{a===e?(i.classList="modal",o.innerHTML="\xa1Empate! intentalo nuevamente para ganar",u.addEventListener("click",()=>{i.classList="cerrar-modal"})):e>21?(i.classList="modal",o.innerHTML="Computadora ha ganado... \xa1no te rindas!",u.addEventListener("click",()=>{i.classList="cerrar-modal"})):a>21?(i.classList="modal",o.innerHTML="\xa1Ganaste! Prueba tu suerte nuevamente",u.addEventListener("click",()=>{i.classList="cerrar-modal"})):(i.classList="modal",o.innerHTML="Computadora ha ganado... \xa1no te rindas!",u.addEventListener("click",()=>{i.classList="cerrar-modal"}))},100)},g=e=>{let a=0;do{let r=$();if(a=h(r,t.length-1),p(r,t.length-1),e>21)break}while(a<e&&e<=21);f()};return s.addEventListener("click",()=>{let e=$(),a=h(e,0);p(e,0),a>21?(s.disabled=!0,n.disabled=!0,g(a)):21===a&&(s.disabled=!0,n.disabled=!0,g(a))}),n.addEventListener("click",()=>{s.disabled=!0,n.disabled=!0,g(t[0])}),l.addEventListener("click",()=>{console.clear,L()}),{nuevoJuego:L}})();